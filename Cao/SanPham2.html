<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="SanPham2.css">
    <link rel="stylesheet" href="fontawesome-free-6.2.0-web/css/all.css">
    <title>Admin</title>
</head>
<body>
    <div class="Top">
        <div class="row1">
            <ul>
                <li>
                    <h1>Admin</h1>
                </li>
                <li style="margin:auto"><a href="KhachHang2.html">Khách hàng</a></li>
                <li style="margin:auto"><a href="#">Sản phẩm</a></li>
                <li style="margin:auto"><a href="DonHang2.html">Đơn hàng</a></li>
                <li style="margin:auto"><a href="ThongKe2.html">Thống kê</a></li>
            </ul>
        </div>
        <div class="row2">
            <ul>
                <li style="margin-bottom: 10px">Xin chào Admin</li>
                <li id="Out"><i class="fa-solid fa-right-from-bracket"></i> Đăng xuất</li>
            </ul>
        </div>
    </div>
    <div class="Center">
        <div class="Content1">
            Quản lý sản phẩm
        </div>
        <div class="ThongTin1">
        <table class="Table1">
            <tr>
                <th >Mã sản phẩm</th>
                <th >Hình ảnh</th>
                <th>Tên</th>
                <th >Kho</th>
                <th >Giá</th>
                <th >Số lượng</th>
                <th >Danh mục</th>
                <th >Sửa</th>
            </tr>
            <tr>
                <td>0001</td>
                <td><img src="HinhAnh/ADIDAS COPA SENSE .1 TF SAPPHIRE EDGE navy black.jpg" alt=""></td>
                <td>ADIDAS COPA SENSE .1 TF SAPPHIRE EDGE - NAVY BLUE/FOOTWEAR WHITE/BLUE RUSH</td>
                <td>Còn hàng</td>
                <td>2,750,000</td>
                <td>453</td>
                <td>Adidas</td>
                <td>
                    <i class="fa-solid fa-trash-can fa-xl" style="margin-right: 5px;"></i>
                    <i class="fa-solid fa-pen-to-square fa-xl"></i>
                </td>
            </tr>
            <tr>
                <td>0002</td>
                <td><img src="HinhAnh/ADIDAS COPA SENSE .1 TF WHITESPARK white.jpg" alt=""></td>
                <td>ADIDAS COPA SENSE .1 TF WHITESPARK - FOOTWEAR WHITE/SOLAR RED/IRON METAL</td>
                <td>Còn hàng</td>
                <td>2,750,000</td>
                <td>57</td>
                <td>Adidas</td>
                <td>
                    <i class="fa-solid fa-trash-can fa-xl" style="margin-right: 5px;"></i>
                    <i class="fa-solid fa-pen-to-square fa-xl"></i>
                </td>
            </tr>
            <tr>
                <td>0003</td>
                <td><img src="HinhAnh/ADIDAS MESSI 16.1 FG TURBOCHARGE.jpg" alt=""></td>
                <td>ADIDAS MESSI 16.1 FG TURBOCHARGE - COPPER METALLIC/CORE BLACK/SOLAR GREEN</td>
                <td>Còn hàng</td>
                <td>1,500,000</td>
                <td>67</td>
                <td>Adidas</td>
                <td>
                    <i class="fa-solid fa-trash-can fa-xl" style="margin-right: 5px;"></i>
                    <i class="fa-solid fa-pen-to-square fa-xl"></i>
                </td>
            </tr>
            <tr>
                <td>0004</td>
                <td><img src="HinhAnh/ADIDAS PREDATOR EDGE .3 LOW TF AL RIHLA white.jpg" alt=""></td>
                <td>ADIDAS PREDATOR EDGE .3 LOW FG AL RIHLA - FOOTWEAR WHITE/SOLAR YELLOW/POWER BLUE</td>
                <td>Còn hàng</td>
                <td>1,980,000</td>
                <td>47</td>
                <td>Adidas</td>
                <td>
                    <i class="fa-solid fa-trash-can fa-xl" style="margin-right: 5px;"></i>
                    <i class="fa-solid fa-pen-to-square fa-xl"></i>
                </td>                        
            </tr>
        </table>
        </div>
    </div>
    <div class="Bottom">
        <div class="Content">
            Thêm sản phẩm
        </div>

        <div class="ThemSP">
            <div>
                <label for="">Mã sản phẩm: </label>
                <input type="number"  id="Code">
            </div>
            <div>
                <label for="">Hình ảnh: </label>
                <input type="file" id="Anh" name="file_name" onchange="theimage();">
                <input type="text" name="file_path" id="file-path" style="display: none;">          
            </div>
            <div>
                <label for="">Tên: </label>
                <input type="text"  id="Name">
            </div>
            <div>
                <label for="">Kho: </label>
                <select name="Kho" id="Kho">
                    <option value="Còn Hàng">Còn hàng</option>
                    <option value="Hết Hàng">Hết hàng</option>
                </select>
            </div>
            <div>
                <label for="">Giá: </label>
                <input type="number"  id="Cost">
            </div>
            <div>
                <label for="">Số lượng: </label>
                <input type="text"  id="Amount">
            </div>
            <div>
                <label for="">Danh mục: </label>
                <select name="DanhMuc" id="DanhMuc">
                    <option value="Adidas">Adidas</option>
                    <option value="Nike">Nike</option>
                    <option value="Kamito">Kamito</option>
                </select>
            </div>
            <div>
                <button onclick="add()" style="padding: 10px;border-radius: 5px;margin-top: -10px;background-color: bisque;margin-left: 25px;">Thêm</button>
            </div>

        </div>
        <div class="ThongTin">
            <table class="table" id="render">
                <tr>
                    <th >Mã sản phẩm</th>
                    <th >Hình ảnh</th>
                    <th>Tên</th>
                    <th >Kho</th>
                    <th >Giá</th>
                    <th >Số lượng</th>
                    <th >Danh mục</th>
                    <th >Sửa</th>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                
            </table>
        </div>
    </div>

    <script>
        var data=[]

        function add(){
            var itemp_Code = document.getElementById("Code").value
            var itemp_Anh = document.getElementById("Anh").value
            var itemp_Ten = document.getElementById("Name").value
            var itemp_Kho = document.getElementById("Kho").value
            var itemp_Gia = document.getElementById("Cost").value
            var itemp_Slg = document.getElementById("Amount").value
            var itemp_DanhMuc = document.getElementById("DanhMuc").value

            var itemp = {
                Code : itemp_Code,
                Anh : itemp_Anh,
                Ten : itemp_Ten,
                Kho : itemp_Kho,
                Gia : itemp_Gia,
                Slg : itemp_Slg,
                DanhMuc : itemp_DanhMuc
            }


            let index = data.findIndex((c)=>c.Code==itemp.Code)

            if(index>=0){
                data.splice(index,1,itemp)
            }else{
                data.push(itemp)
            }
            render()
            clear()
        }

        function render(){
            table = `<tr>
                    <th >Mã sản phẩm</th>
                    <th >Hình ảnh</th>
                    <th>Tên</th>
                    <th >Kho</th>
                    <th >Giá</th>
                    <th >Số lượng</th>
                    <th >Danh mục</th>
                    <th >Sửa</th>
                </tr>`
                for(let i=0;i<data.length;i++){
                    var tempp =document.getElementById("file-path").value
                    document.getElementById("file-path").value = data[i].Anh;
                    data[i].Anh=tempp
                    table += `<tr>
                    <td>${data[i].Code}</td>
                    <td><img src="HinhAnh/${data[i].Anh}" style="width:300px;height:200px"></td>
                    <td>${data[i].Ten}</td>
                    <td>${data[i].Kho}</td>
                    <td>${data[i].Gia}</td>
                    <td>${data[i].Slg}</td>
                    <td>${data[i].DanhMuc}</td>
                    <td>
                        <button onclick="deleteItemp(${data[i].Code})" style="width:40px;height:40px;border-radius: 10px;"><i class="fa-solid fa-trash-can"></i></button>
                        <button onclick="editItemp(${data[i].Code})" style="width:40px;height:40px;border-radius: 10px;"><i class="fa-solid fa-pen-to-square"></i></button>
                    </td>
                </tr>`
                }
                document.getElementById("render").innerHTML=table
        }

        function clear(){
            document.getElementById("Code").value="";
            document.getElementById("Anh").value="";
            document.getElementById("Name").value="";
            document.getElementById("Kho").value="";
            document.getElementById("Cost").value="";
            document.getElementById("Amount").value="";
            document.getElementById("DanhMuc").value="";
        }


        function deleteItemp(x){
            for(let i=0;i<data.length;i++){
                if(data[i].Code==x){
                    data.splice(i,1)

                    render()
                }
            }
        }


        function editItemp(x){
            for(let i=0;i<data.length;i++){
                if(data[i].Code==x){
                    document.getElementById("Code").value=data[i].Code;
                    document.getElementById("Anh").value=data[i].Anh;
                    document.getElementById("Name").value=data[i].Ten;
                    document.getElementById("Kho").value=data[i].Kho;
                    document.getElementById("Cost").value=data[i].Gia;
                    document.getElementById("Amount").value=data[i].Slg;
                    document.getElementById("DanhMuc").value=data[i].DanhMuc;
                }
            }
        }
        function theimage(){
    var filename = document.getElementById("Anh").files[0].name;
    document.getElementById('file-path').value = filename;

}


    </script>
</body>
</html>